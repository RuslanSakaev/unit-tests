# Unit-тесты (семинары)
## Урок 4. Зависимости в тестах
####  Задание 0. (необязательное) Попробовать самостоятельно решить задачи, которые не успели решить на семинаре. Сдавать решение не нужно.

Условия к ДЗ (архив)

### Задание 1. Ответьте письменно на вопросы:

1)  Почему использование тестовых заглушек может быть полезным при написании модульных тестов?
```
Ответ:
- Заглушки позволяют изолировать тестируемый модуль от его зависимостей, таких как базы данных, внешние сервисы или библиотеки. 
Это делает тесты более предсказуемыми и стабильными, так как вы можно контролировать исходные данные и поведение зависимостей в рамках теста.

- Заглушки позволяют заменить реальные зависимости легковесными имитациями, что может ускорить выполнение тестов. 
Это особенно полезно, если реальные зависимости медленные или требуют доступа к внешним ресурсам, таким как сеть или файловая система.

- Заглушки помогают создавать предсказуемое окружение для тестов. Есть возможность точно контролировать возвращаемые 
значения и поведение заглушек, что делает тесты более надежными и способствует обнаружению ошибок.

- Заглушки могут помочь в тестировании различных краевых случаев и ошибочных сценариев, которые трудно воссоздать с реальными зависимостями.

- Используя заглушки, можно устранить влияние сторонних факторов, таких как изменения в базе данных или внешних API, на результаты тестов.

- Заглушки позволяют создавать множество изолированных копий зависимостей для одновременного тестирования, что может быть сложно сделать с реальными зависимостями.
```

2) Какой тип тестовой заглушки следует использовать, если вам нужно проверить, что метод был вызван с определенными аргументами?
```
Для проверки, что метод был вызван с определенными аргументами, можно использовать заглушки типа "spy" или "mock". 
Они позволяют наблюдать за вызовами методов и проверять переданные им аргументы.

Spy: заглушка, которая реально выполняет метод, но также записывает информацию о каждом вызове, включая переданные аргументы. 
После выполнения теста, можно проверить, что метод вызывался с ожидаемыми аргументами. 
Спай полезна, когда важно сохранить реальное поведение метода.

Mock: может служить для проверки вызовов методов с определенными аргументами. В отличие от спая, мок может имитировать 
поведение метода и возвращать предопределенные значения. Мок обычно используется, когда не важно реальное выполнение метода, 
и необходимо полностью контролировать его поведение.
```

3) Какой тип тестовой заглушки следует использовать, если вам просто нужно вернуть определенное значение или исключение 
в ответ на вызов метода?
```
Для этого следует использовать тестовую заглушку "фиктив" (stub).

"stub" представляет собой простой объект, который имитирует функциональность зависимости, но обычно не записывает 
вызовы методов и их аргументы, так как его главная цель - предоставить заранее определенный результат. 
Такие фиктивы часто используются для изоляции тестов от внешних зависимостей и создания контролируемых условий для тестирования.
```

4) Какой тип тестовой заглушки вы бы использовали для имитации взаимодействия с внешним API или базой данных?
```
Для данной задачи подойдёт "мок" (mock), который позволяет создавать имитацию внешних систем, контролировать их 
поведение и возвращаемые значения, проверять вызовы методов без фактического обращения к реальным внешним ресурсам.

Использование моков при тестировании взаимодействия с внешними системами позволяет создать изолированные тесты, 
которые не зависят от реальной инфраструктуры или ресурсов. Это делает тесты более предсказуемыми, стабильными и быстрыми, 
так как они не требуют реальных сетевых запросов или доступа к базам данных.

В Java в основном используется библиотека Mockito, но могут использоваться и аналогичные библиотеки для мокирования.
```

### Задание 2.

У вас есть класс BookService, который использует интерфейс BookRepository для получения информации о книгах из базы данных. Ваша задача написать unit-тесты для BookService, используя Mockito для создания мок-объекта BookRepository.

#### Формат сдачи: воспользуйтесь одним из вариантов: Ссылка на репозиторий Git или Прикрепленный архив

Письменное задание 1 можно также разместить в репозитории или разместить текстом в окне сдачи практического задания.